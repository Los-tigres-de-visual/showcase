<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Pixelador Sin Coherencia Espacial # Introducción # La pixelación es una técnica comúnmente utilizada en el procesamiento de imágenes y videos para ocultar detalles o crear efectos visuales específicos. En esta sección, presentamos la implementación de un pixelador en software utilizando p5.js y shaders.
El objetivo principal de este proyecto es desarrollar un sistema interactivo que permita al usuario seleccionar imágenes y videos de un conjunto de datos fuente previamente definido y aplicarles un efecto de pixelación en tiempo real."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Pixelador Sin Coherencia Espacial # Introducción # La pixelación es una técnica comúnmente utilizada en el procesamiento de imágenes y videos para ocultar detalles o crear efectos visuales específicos. En esta sección, presentamos la implementación de un pixelador en software utilizando p5.js y shaders.
El objetivo principal de este proyecto es desarrollar un sistema interactivo que permita al usuario seleccionar imágenes y videos de un conjunto de datos fuente previamente definido y aplicarles un efecto de pixelación en tiempo real."><meta property="og:type" content="article"><meta property="og:url" content="https://Los-tigres-de-visual.github.io/showcase/docs/shortcodes/segundoTaller/spatialCoherence/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-05-12T16:04:55-05:00"><title>Spatial Coherence | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><input type=checkbox id=section-d96370ef8a3bf718e7e4d1e715621ce1 class=toggle>
<label for=section-d96370ef8a3bf718e7e4d1e715621ce1 class="flex justify-between"><a href=/showcase/docs/shortcodes/members/>Members</a></label><ul><li><a href=/showcase/docs/shortcodes/members/JohanLemus/>Johan Lemus</a></li><li><a href=/showcase/docs/shortcodes/members/SantiagoRodriguez/>Santiago Rodriguez</a></li><li><a href=/showcase/docs/shortcodes/members/YuliBeltran/>Yuli Beltran</a></li></ul></li><li><input type=checkbox id=section-f974aa27370ea0ead0fb9e6d0f328eef class=toggle>
<label for=section-f974aa27370ea0ead0fb9e6d0f328eef class="flex justify-between"><a href=/showcase/docs/shortcodes/primerTaller/>Primer Taller</a></label><ul><li><a href=/showcase/docs/shortcodes/primerTaller/colorBlindFilter/>Color Blind Filter</a></li><li><a href=/showcase/docs/shortcodes/primerTaller/colorModels/>Color Models</a></li><li><a href=/showcase/docs/shortcodes/primerTaller/depthPerception/>Depth Perception</a></li></ul></li><li><input type=checkbox id=section-c8abf495f29ba86bb870b1b7c6e628fc class=toggle checked>
<label for=section-c8abf495f29ba86bb870b1b7c6e628fc class="flex justify-between"><a href=/showcase/docs/shortcodes/segundoTaller/>Segundo Taller</a></label><ul><li><a href=/showcase/docs/shortcodes/segundoTaller/3dSnakeGame/>3d Snake Game</a></li><li><a href=/showcase/docs/shortcodes/segundoTaller/art3d/>Art3d</a></li><li><a href=/showcase/docs/shortcodes/segundoTaller/asciiArt/>Ascii Art</a></li><li><a href=/showcase/docs/shortcodes/segundoTaller/proceduralTexturing/>Procedural Texturing</a></li><li><a href=/showcase/docs/shortcodes/segundoTaller/spatialCoherence/ class=active>Spatial Coherence</a></li></ul></li><li><input type=checkbox id=section-ec67a64aba70b9df3d2a9acd6c92e3bc class=toggle>
<label for=section-ec67a64aba70b9df3d2a9acd6c92e3bc class="flex justify-between"><a href=/showcase/docs/shortcodes/p5/>P5</a></label><ul><li><a href=/showcase/docs/shortcodes/p5/iframe/>Iframe</a></li><li><a href=/showcase/docs/shortcodes/p5/div/>Div</a></li></ul></li><li><input type=checkbox id=section-b7e502266b7d64b7b7d2f21d0cc1b8be class=toggle>
<label for=section-b7e502266b7d64b7b7d2f21d0cc1b8be class="flex justify-between"><a role=button>Secciones Base</a></label><ul><li><a href=/showcase/docs/shortcodes/seccionesBase/buttons/>Buttons</a></li><li><a href=/showcase/docs/shortcodes/seccionesBase/columns/>Columns</a></li><li><a href=/showcase/docs/shortcodes/seccionesBase/details/>Details</a></li><li><a href=/showcase/docs/shortcodes/seccionesBase/hints/>Hints</a></li><li><a href=/showcase/docs/shortcodes/seccionesBase/katex/>Katex</a></li><li><a href=/showcase/docs/shortcodes/seccionesBase/mermaid/>Mermaid</a></li><li><a href=/showcase/docs/shortcodes/seccionesBase/tabs/>Tabs</a></li></ul></li></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Spatial Coherence</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#pixelador-sin-coherencia-espacial>Pixelador Sin Coherencia Espacial</a><ul><li><a href=#introducción>Introducción</a></li><li><a href=#antecedentes-y-trabajo-previo>Antecedentes y Trabajo Previo</a></li><li><a href=#pixelador>Pixelador</a><ul><li><a href=#explicación-del-código>Explicación del Código</a></li></ul></li><li><a href=#conclusiones>Conclusiones</a></li><li><a href=#trabajo-futuro>Trabajo futuro</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=pixelador-sin-coherencia-espacial>Pixelador Sin Coherencia Espacial
<a class=anchor href=#pixelador-sin-coherencia-espacial>#</a></h1><h2 id=introducción>Introducción
<a class=anchor href=#introducci%c3%b3n>#</a></h2><p>La pixelación es una técnica comúnmente utilizada en el procesamiento de imágenes y videos para ocultar detalles o crear efectos visuales específicos. En esta sección, presentamos la implementación de un pixelador en software utilizando <code>p5.js</code> y <code>shaders</code>.</p><p>El objetivo principal de este proyecto es desarrollar un sistema interactivo que permita al usuario seleccionar imágenes y videos de un conjunto de datos fuente previamente definido y aplicarles un efecto de pixelación en tiempo real.</p><p>El proceso de pixelación se lleva a cabo utilizando <code>shaders</code>, que son programas que se ejecutan en la tarjeta gráfica y permiten realizar operaciones de procesamiento paralelo en tiempo real. En nuestro caso, hemos utilizado un <code>shader</code> personalizado que aplica el efecto de pixelación sin utilizar coherencia espacial. El shader divide la imagen en bloques de píxeles y calcula la posición del fragmento en las coordenadas de textura pixeladas multiplicando y redondeando hacia abajo las coordenadas de textura originales por el tamaño de los píxeles</p><p>Además, hemos implementado un mecanismo de ajuste del tamaño de píxel para permitir al usuario controlar el nivel de pixelación deseado. Esto se logra a través de un control deslizante interactivo que ajusta los parámetros del <code>shader</code> en tiempo real.</p><p>Finalmente, analizaremos los resultados. Se evaluarán las ventajas y desventajas del método implementado en términos de calidad visual, rendimiento y eficiencia.</p><h2 id=antecedentes-y-trabajo-previo>Antecedentes y Trabajo Previo
<a class=anchor href=#antecedentes-y-trabajo-previo>#</a></h2><p>La pixelación es una técnica comúnmente utilizada en el procesamiento de imágenes y videos para ocultar detalles, proteger la privacidad o lograr efectos visuales distintivos. Consiste en dividir una imagen en bloques de píxeles más grandes, lo que resulta en una representación simplificada y de baja resolución de la imagen original. Esta técnica ha sido ampliamente utilizada en diversas aplicaciones, como juegos retro, arte digital y aplicaciones de edición de imágenes.</p><p>Existen numerosos trabajos previos en el campo de la pixelación que han explorado diferentes enfoques y técnicas. Por ejemplo, en el ámbito de los juegos retro, se han desarrollado algoritmos específicos para recrear la apariencia de las consolas y los gráficos de baja resolución utilizados en los videojuegos de la década de 1980. Estos métodos a menudo utilizan técnicas de reducción de resolución basadas en patrones y paletas de colores limitadas para obtener resultados auténticos y estilizados.</p><p align=center><img src=/showcase/sketches/spatialCoherence/mario.png></p><p align=center><b>Fuente:</b> <a href=https://www5.minijuegosgratis.com/v3/games/thumbnails/222662_1.jpg target=_blank>Imagen de Mario Retro</a></p><p>Además, en el campo del arte digital y la representación estilizada de imágenes, se han propuesto diversos enfoques de pixelación. Algunos artistas y diseñadores han experimentado con técnicas no convencionales de pixelación, como el uso de formas geométricas o colores sólidos en lugar de píxeles individuales. Estos enfoques buscan crear efectos visuales únicos y explorar nuevas formas de representación visual.</p><p>En el ámbito académico, también se han investigado algoritmos más avanzados para la pixelación, incluyendo métodos basados en análisis de textura, segmentación de imágenes y aprendizaje automático. Estos enfoques buscan mejorar la calidad visual de la pixelación al considerar características más complejas de la imagen, como bordes, texturas y patrones.</p><h2 id=pixelador>Pixelador
<a class=anchor href=#pixelador>#</a></h2><p>A continuación, presentamos el código del pixelador implementado en <code>p5</code> en conjunto con el <code>shader</code> :
<details><summary>sketch.js</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#75715e>// Variables para almacenar los archivos actuales
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>currentFile</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>imagen1</span>, <span style=color:#a6e22e>imagen2</span>, <span style=color:#a6e22e>imagen3</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>video1</span>, <span style=color:#a6e22e>video2</span>, <span style=color:#a6e22e>video3</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Control deslizante para el tamaño de píxel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>pixelSizeSlider</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Función para detener la reproducción de los videos
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>stopVideos</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video1</span>.<span style=color:#a6e22e>pause</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video2</span>.<span style=color:#a6e22e>pause</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video3</span>.<span style=color:#a6e22e>pause</span>();
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Cargar el fragment shader
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>lumaShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#34;/showcase/sketches/spatialCoherence/assets/pixelator.frag&#34;</span>,
</span></span><span style=display:flex><span>    { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Cargar las imágenes
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>imagen1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/spatialCoherence/assets/imagen1.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>imagen2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/spatialCoherence/assets/imagen2.jpg&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>imagen3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#34;/showcase/sketches/spatialCoherence/assets/imagen3.jpg&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Crear los elementos de video
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>video1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createVideo</span>([<span style=color:#e6db74>&#34;/showcase/sketches/spatialCoherence/assets/video1.mp4&#34;</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video1</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createVideo</span>([<span style=color:#e6db74>&#34;/showcase/sketches/spatialCoherence/assets/video2.mp4&#34;</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video2</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createVideo</span>([<span style=color:#e6db74>&#34;/showcase/sketches/spatialCoherence/assets/video3.mp4&#34;</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video3</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Establecer el archivo actual como la primera imagen por defecto
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>currentFile</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imagen1</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Crear un lienzo de 700x500 con WebGL
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>700</span>, <span style=color:#ae81ff>500</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Configuraciones de dibujo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Aplicar el shader
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>lumaShader</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Crear un selector desplegable para los archivos
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>selectorFiles</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectorFiles</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>20</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectorFiles</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;width&#34;</span>, <span style=color:#e6db74>&#34;80px&#34;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Opciones del selector
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>selectorFiles</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Imagen 1&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectorFiles</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Imagen 2&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectorFiles</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Imagen 3&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectorFiles</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Video 1&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectorFiles</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Video 2&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>selectorFiles</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Video 3&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Establecer la opción seleccionada por defecto
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>selectorFiles</span>.<span style=color:#a6e22e>selected</span>(<span style=color:#e6db74>&#34;Imagen 1&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Función para cambiar el archivo actual cuando cambia
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// la opción seleccionada
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>selectorFiles</span>.<span style=color:#a6e22e>changed</span>(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>let</span> <span style=color:#a6e22e>file</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>selectorFiles</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>switch</span> (<span style=color:#a6e22e>file</span>) {
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;Imagen 1&#34;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>currentFile</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imagen1</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stopVideos</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;Imagen 2&#34;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>currentFile</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imagen2</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stopVideos</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;Imagen 3&#34;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>currentFile</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>imagen3</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stopVideos</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;Video 1&#34;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>currentFile</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>video1</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stopVideos</span>();
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>video1</span>.<span style=color:#a6e22e>loop</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;Video 2&#34;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>currentFile</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>video2</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stopVideos</span>();
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>video2</span>.<span style=color:#a6e22e>loop</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>      <span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;Video 3&#34;</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>currentFile</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>video3</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>stopVideos</span>();
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>video3</span>.<span style=color:#a6e22e>loop</span>();
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>break</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Crear un control deslizante para el tamaño del píxel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>pixelSizeSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>51</span>, <span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pixelSizeSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>15</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pixelSizeSlider</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;width&#34;</span>, <span style=color:#e6db74>&#34;80px&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Establecer el valor inicial del tamaño de píxel en el shader
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;pixelSize&#34;</span>, <span style=color:#a6e22e>pixelSizeSlider</span>.<span style=color:#a6e22e>value</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Función para actualizar el tamaño de píxel en el shader
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// según el valor del control deslizante
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>pixelSizeSlider</span>.<span style=color:#a6e22e>input</span>(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;pixelSize&#34;</span>, <span style=color:#a6e22e>pixelSizeSlider</span>.<span style=color:#a6e22e>value</span>());
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Actualizar el tamaño de píxel en el shader en función del
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// ancho del lienzo
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;pixelSize&#34;</span>, <span style=color:#a6e22e>pixelSizeSlider</span>.<span style=color:#a6e22e>value</span>() <span style=color:#f92672>/</span> <span style=color:#a6e22e>width</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Establecer la textura actual en el shader
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>lumaShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#34;texture&#34;</span>, <span style=color:#a6e22e>currentFile</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Dibujar la forma con el shader aplicado
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>beginShape</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>(<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>endShape</span>();
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details></p><details><summary>pixelator.frag</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e>// Precisión de los cálculos de punto flotante
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>precision mediump <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Textura de entrada
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>uniform sampler2D texture;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Tamaño de píxel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>uniform <span style=color:#66d9ef>float</span> pixelSize;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Coordenadas de textura interpoladas desde los vértices
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>varying vec2 texcoords2;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Redondear las coordenadas de textura al tamaño de píxel más cercano
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  vec2 p <span style=color:#f92672>=</span> <span style=color:#a6e22e>floor</span>(texcoords2 <span style=color:#f92672>/</span> pixelSize) <span style=color:#f92672>*</span> pixelSize;
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Obtener el color de la textura en las coordenadas redondeadas
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  vec4 texel <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(texture, p);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#75715e>// Asignar el color del texel como salida
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  gl_FragColor <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>vec3</span>(texel), <span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></div></details><p>A continuación, presentamos el <code>iframe</code> con el código funcional:</p><iframe id=pixelator style=width:725px;height:525px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
            
            
            
            
            <script src=/showcase/sketches/spatialCoherence/pixelator.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><blockquote class="book-hint info"><p><strong>Derechos de Autor</strong><br>Las imágenes y videos fueron tomadas de las siguientes páginas:</p><ol><li><p><strong>Imagen 1:</strong> <a href=https://www.transportal.com.br/noticias/wp-content/uploads/2018/09/Parque-Nacional-de-Banff.jpg>https://www.transportal.com.br/noticias/wp-content/uploads/2018/09/Parque-Nacional-de-Banff.jpg</a></p></li><li><p><strong>Imagen 2:</strong> <a href=https://cdn.spacetelescope.org/archives/images/wallpaper2/heic2007a.jpg>https://cdn.spacetelescope.org/archives/images/wallpaper2/heic2007a.jpg</a></p></li><li><p><strong>Imagen 3:</strong> <a href=https://media.traveler.es/photos/61377376c4f3d95786668d8d/master/w_1600,c_limit/120565.jpg>https://media.traveler.es/photos/61377376c4f3d95786668d8d/master/w_1600,c_limit/120565.jpg</a></p></li><li><p><strong>Video 1:</strong> <a href=https://www.pexels.com/es-es/video/drone-vista-de-grandes-olas-corriendo-hacia-la-orilla-3571264/>https://www.pexels.com/es-es/video/drone-vista-de-grandes-olas-corriendo-hacia-la-orilla-3571264/</a></p></li><li><p><strong>Video 2:</strong> <a href="https://www.youtube.com/watch?v=2IEvEXxQ2og">https://www.youtube.com/watch?v=2IEvEXxQ2og</a></p></li><li><p><strong>Video 3:</strong> <a href="https://www.youtube.com/watch?v=qU1-Hi4SERA">https://www.youtube.com/watch?v=qU1-Hi4SERA</a></p></li></ol></blockquote><h3 id=explicación-del-código>Explicación del Código
<a class=anchor href=#explicaci%c3%b3n-del-c%c3%b3digo>#</a></h3><p>El código en <code>p5</code> y el <code>shader</code> implementan un pixelador de imágenes y videos en tiempo real. El pixelador se encarga de dividir la imagen o el video en pequeños cuadrados de píxeles y reducir su tamaño, creando un efecto de pixelación. El shader es una parte fundamental de este proceso, ya que se encarga de aplicar la transformación visual en cada píxel.</p><p>El programa comienza cargando las imágenes y videos que se utilizarán, incluyendo un fragment shader llamado <code>pixelator.frag</code> que contiene la lógica para la pixelación. Luego, se configura la interfaz de usuario y se establecen las funciones de manejo de eventos.</p><p>El proceso de pixelación ocurre en la función <code>draw()</code>, que se ejecuta continuamente en un bucle. Dentro de esta función, se establecen los parámetros del shader, como el tamaño de los píxeles y la textura actual (que puede ser una imagen estática o un video en reproducción). El tamaño de los píxeles se controla mediante un deslizador <code>pixelSizeSlider</code> que el usuario puede ajustar. El valor del deslizador se pasa al <code>shader</code> como <code>pixelSize</code>.</p><p>Por otro lado, el <code>shader</code> funciona de la siguiente manera:</p><p>Comienza por calcular las coordenadas de textura <code>texcoords2</code> y divide estas coordenadas por el tamaño de los píxeles <code>pixelSize</code> para obtener la posición del píxel en la imagen original. Luego, se obtiene el color del píxel correspondiente en la textura original utilizando la función <code>texture2D()</code>. Finalmente, el color resultante se asigna a gl_FragColor, que es el color final del píxel en el fragmento.</p><h2 id=conclusiones>Conclusiones
<a class=anchor href=#conclusiones>#</a></h2><ol><li><p>El enfoque de pixelación implementado, que no utiliza coherencia espacial, ha demostrado ser efectivo para generar resultados estilizados y simplificados. Los bloques de píxeles resultantes crean una representación visual distintiva y pueden ser utilizados para lograr efectos artísticos o visuales específicos.</p></li><li><p>La utilización de shaders ha sido fundamental para lograr un procesamiento eficiente en tiempo real. La capacidad de ejecutar operaciones paralelas en la tarjeta gráfica permite aplicar el efecto de pixelación de manera rápida y responsiva, lo que mejora la experiencia del usuario.</p></li><li><p>La comparación con un enfoque alternativo que utiliza coherencia espacial para la pixelación ha revelado diferencias significativas en los resultados obtenidos. Mientras que el enfoque implementado produce resultados más abruptos y estilizados, el enfoque basado en coherencia espacial tiende a preservar mejor los detalles y la estructura global de la imagen. La elección entre ambos enfoques dependerá de los objetivos y el contexto de aplicación.</p></li><li><p>Es importante destacar que el enfoque implementado tiene algunas limitaciones. La falta de coherencia espacial puede resultar en la pérdida de detalles importantes en la imagen original y en una apariencia más simplificada. Por lo tanto, se recomienda su uso en situaciones donde se busque un efecto visual específico o una representación estilizada.</p></li></ol><h2 id=trabajo-futuro>Trabajo futuro
<a class=anchor href=#trabajo-futuro>#</a></h2><p>A pesar de los logros alcanzados en este proyecto de implementación de un pixelador en software utilizando <code>p5.js</code> y <code>shaders</code>, existen diversas oportunidades de mejora y trabajo futuro que pueden llevarse a cabo. A continuación, se detallan algunas áreas de investigación y desarrollo que podrían explorarse:</p><ol><li><p><strong>Mejora de la calidad visual:</strong> Uno de los aspectos clave a considerar en el trabajo futuro es la mejora de la calidad visual de la pixelación. Se pueden investigar y desarrollar algoritmos más sofisticados que preserven mejor los detalles importantes de la imagen original. Esto puede implicar la exploración de técnicas basadas en aprendizaje automático, como redes neuronales, para realizar una pixelación más inteligente y adaptativa.</p></li><li><p><strong>Optimización del rendimiento:</strong> Aunque la implementación actual es capaz de realizar la pixelación en tiempo real, es posible investigar y aplicar técnicas de optimización para mejorar aún más el rendimiento. Esto puede incluir la optimización de los shaders y la utilización de técnicas de paralelización para aprovechar al máximo la capacidad de procesamiento de la tarjeta gráfica.</p></li><li><p><strong>Exploración de nuevos efectos de pixelación:</strong> Además de la pixelación tradicional, existen numerosos efectos y variaciones que podrían investigarse y desarrollarse en el futuro. Esto incluye la implementación de técnicas de pixelación no uniforme, donde diferentes regiones de la imagen se pixelan con diferentes tamaños o patrones. También se pueden explorar efectos de transición y animación entre diferentes niveles de pixelación para lograr resultados visuales más dinámicos y atractivos.</p></li><li><p><strong>Integración con otras herramientas y tecnologías:</strong> El pixelador desarrollado puede integrarse con otras herramientas y tecnologías para ampliar su funcionalidad y aplicaciones. Por ejemplo, se podría explorar la posibilidad de utilizar técnicas de detección de bordes o segmentación de imágenes para guiar la pixelación y preservar mejor la estructura de la imagen original. Además, se podría considerar la integración con bibliotecas de procesamiento de imágenes existentes para aprovechar funcionalidades adicionales, como la corrección de color o el ajuste de tonos.</p></li></ol></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/6b71c6506867d8f5580091b5830f51e7b379d897 title='Last modified by Johan15111 | May 12, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>May 12, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#pixelador-sin-coherencia-espacial>Pixelador Sin Coherencia Espacial</a><ul><li><a href=#introducción>Introducción</a></li><li><a href=#antecedentes-y-trabajo-previo>Antecedentes y Trabajo Previo</a></li><li><a href=#pixelador>Pixelador</a><ul><li><a href=#explicación-del-código>Explicación del Código</a></li></ul></li><li><a href=#conclusiones>Conclusiones</a></li><li><a href=#trabajo-futuro>Trabajo futuro</a></li></ul></li></ul></nav></div></aside></main></body></html>